<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>A simple square</title>
</head>

<body>

  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script>

  var data = [{x:10,y:10, width:5, height:40},{x:40,y:10, width:100, height:40}];

  var svg = d3.select("body")
              .append("svg")
              .attr("width", 200)
              .attr("height", 200);

  svg.selectAll('rect')
      .data(data).enter()
        .append('rect')
        .attr('x', function(d){ return d.x})
        .attr('y', function(d){ return d.y})
        .attr("width", function(d){ return d.width})
        .attr("height", function(d){ return d.height})

  setInterval(function(){
    update();
  },1000);

  function update(){
    var newData = [
      {
        x:Math.floor((Math.random() * 100) + 1), 
        y:Math.floor((Math.random() * 100) + 1), 
        width:Math.floor((Math.random() * 100) + 1), 
        height:Math.floor((Math.random() * 100) + 1)
      },
      {
        x:Math.floor((Math.random() * 100) + 1), 
        y:Math.floor((Math.random() * 100) + 1), 
        width:Math.floor((Math.random() * 100) + 1), 
        height:Math.floor((Math.random() * 100) + 1)
      }];

    svg.selectAll('rect')
      .data(newData)
      .attr('x', function(d){ return d.x})
      .attr('y', function(d){ return d.y})
      .attr("width", function(d){ return d.width})
      .attr("height", function(d){ return d.height})
  }

  </script>
</body>
</html>

